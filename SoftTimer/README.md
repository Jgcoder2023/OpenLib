### SoftTimer 适用于单片机的软定时器

- [x] 支持自定义时间节拍
- [x] 支持任意时间的回调
- [x] 支持任意时间下的任意次数回调（也支持无限次）
- [x] 支持一个任意类型的带参回调
- [x] 支持运行中动态的添加定时器以及删除定时器
- [x] 支持运行中动态暂定与重启定时器
- [x] 支持任意添加的定时器自动排序（时间顺序）



### 详细使用说明：

##### 引入说明：

1. 在项目中添加 **stimer.lib** 文件  👍可免去重复编译的过程，也可以引用源码。注意：引入stimerlib 也需要引入  \#include "time.h"  头文件。
2. 调用 timer 的 HeartTimer() 函数来给timer提供时钟节拍，也就是让timer拥有心跳能力，这是心跳时间是用户自定义的。后面的每次定时都是基于这个心跳时间的，而且定时器的定时时间只能是心跳时间的整倍数。在示例的代码中，使用的就是stm32的1ms中断给定时器提供的心跳。
3. 调用timer的保活函数 ActivityTimer() 来给定时器保活。一般这个保活需要在whlie(1)中执行，详细可见示例代码。
4. 添加一个定时器，设置定时时间，执行次数，携带参数，回调函数。如果后续还需要对该定时器进行其他操作（删除，暂停，重启等），则需要定义一个TimeValue的指针变量来保存返回的定时器地址。
5. 在对应的回调函数中，写自己的业务。

##### 函数详解（完整使用步骤）：

```c
//给定时器系统心跳（一般是1ms中断调用）
HeartTimer();

//定时器保活函数，在whine(1)中调用
ActivityTimer();


Timer* timer;      //定义定时器指针，用来保存定时器
timer = TimerInit();  //初始化定时器对象
/**
第1个参数：延时时间，只能是心跳时间的整数倍，例如心跳时间是1ms，则1000就是1000ms
第2个参数：执行次数，0位无限次
第3个参数：一个任意类型的参数，回调时传过来
第4个参数：自定义回调函数
**/
t1000 = timer->Add(1000,0,(any)0,LedBlink1000);   //添加一个1000ms 无限循环的定时器
t2000 = timer->Add(2000,10,(any)0,LedBlink1000);   //添加一个2000ms 执行10次的定时器

//1000ms的回调
//这里的data为设置定时器时 携带的参数
void LedBlink1000(any data){
	printf("1S \r\n");
}
//2000ms的回调
void LedBlink1000(any data){
	printf("1S \r\n");
}


//暂停 t1000 定时器
timer->Pause(t1000);

//重启 t100 定时器
timer->Restart(t1000);

//重启带次数的定时器(定时器停止后才能设置)
/**
第1个参数：定时器指针
第2个参数：执行次数
**/
RestartTimeNum(t2000,5);


//删除 t1000 的定时器（删除后不可恢复）
timer->Del(t1000);


//定义一个单周期内没有回调执行的系统空闲函数（定义后系统则会调用）
void TimerIdle(void){
//	printf("Idle \r\n");
}


```

